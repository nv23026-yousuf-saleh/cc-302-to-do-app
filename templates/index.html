<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowTask - Smart Task Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 sidebar">
                <div class="sidebar-header">
                    <div class="logo">
                        <i class="bi bi-lightning-charge-fill"></i>
                        <span>FlowTask</span>
                    </div>
                    <p class="tagline">Stay in your flow</p>
                </div>

                <!-- Gamification Stats -->
                <div class="streak-card">
                    <div class="streak-icon">
                        <i class="bi bi-fire"></i>
                    </div>
                    <div class="streak-info">
                        <div class="streak-number" id="streakCount">0</div>
                        <div class="streak-label">Day Streak</div>
                    </div>
                    <div class="xp-badge" id="xpPoints">0 XP</div>
                </div>

                <!-- Quick Stats -->
                <div class="quick-stats">
                    <div class="stat-item">
                        <i class="bi bi-check-circle-fill text-success"></i>
                        <span id="completedToday">0 completed today</span>
                    </div>
                    <div class="stat-item">
                        <i class="bi bi-calendar-event text-primary"></i>
                        <span id="todayDate"></span>
                    </div>
                </div>

                <!-- View Switcher -->
                <div class="view-switcher">
                    <button class="view-btn active" data-view="today">
                        <i class="bi bi-calendar-day"></i> Today
                    </button>
                    <button class="view-btn" data-view="timeline">
                        <i class="bi bi-clock-history"></i> Timeline
                    </button>
                    <button class="view-btn" data-view="all">
                        <i class="bi bi-list-ul"></i> All Tasks
                    </button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 main-content">
                <div class="content-wrapper">
                    <!-- Header with Add Task -->
                    <div class="task-input-section">
                        <h2 class="section-title" id="viewTitle">Today's Tasks</h2>
                        <div class="quick-add">
                            <div class="input-wrapper">
                                <i class="bi bi-plus-circle input-icon"></i>
                                <input 
                                    type="text" 
                                    id="taskInput" 
                                    class="task-input" 
                                    placeholder="Add a task... (Press Enter)"
                                    autocomplete="off"
                                >
                                <select id="prioritySelect" class="priority-select">
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Filter Pills -->
                    <div class="filter-section" id="filterSection">
                        <button class="filter-pill active" data-filter="all">
                            All <span class="pill-count" id="countAll">0</span>
                        </button>
                        <button class="filter-pill" data-filter="active">
                            Active <span class="pill-count" id="countActive">0</span>
                        </button>
                        <button class="filter-pill" data-filter="completed">
                            Done <span class="pill-count" id="countCompleted">0</span>
                        </button>
                        <button class="filter-pill filter-high" data-filter="high">
                            <i class="bi bi-exclamation-circle"></i> Urgent
                        </button>
                    </div>

                    <!-- Task List Container -->
                    <div id="taskContainer" class="task-container"></div>

                    <!-- Timeline View (Hidden by default) -->
                    <div id="timelineView" class="timeline-view" style="display: none;">
                        <div class="timeline-items" id="timelineItems"></div>
                    </div>

                    <!-- Footer Actions -->
                    <div class="footer-actions">
                        <div class="task-summary">
                            <span id="taskSummary">No tasks yet</span>
                        </div>
                        <button id="clearCompleted" class="btn-clear">
                            <i class="bi bi-trash3"></i> Clear completed
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Celebration Modal -->
    <div class="celebration-overlay" id="celebrationOverlay">
        <div class="celebration-content">
            <div class="celebration-icon">ðŸŽ‰</div>
            <h3>Amazing!</h3>
            <p id="celebrationMessage">Task completed!</p>
            <div class="xp-earned" id="xpEarned">+10 XP</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>